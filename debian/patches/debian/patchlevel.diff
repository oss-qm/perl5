From 77270058f48d22d79e0302a9675d310796bb1c70 Mon Sep 17 00:00:00 2001
From: Niko Tyni <ntyni@debian.org>
Date: Sun, 15 May 2011 19:35:58 +0300
Subject: List packaged patches in patchlevel.h

Origin: vendor
Bug-Debian: http://bugs.debian.org/567489

The list of packaged patches is in patchlevel-debian.h, which is generated
from the debian/patches/ directory when building the package.

Patch-Name: debian/patchlevel.diff
---
 MANIFEST     |    1 +
 patchlevel.h |    1 +
 2 files changed, 2 insertions(+), 0 deletions(-)

diff --git a/MANIFEST b/MANIFEST
index 5855917..291be04 100644
--- a/MANIFEST
+++ b/MANIFEST
@@ -4256,6 +4256,7 @@ overload.h			generated overload name table (implementation)
 pad.c				Scratchpad functions
 pad.h				Scratchpad headers
 parser.h			parser object header
+patchlevel-debian.h			List of patches applied via the Debian packaging
 patchlevel.h			The current patch level of perl
 perlapi.c			Perl API functions
 perlapi.h			Perl API function declarations
diff --git a/patchlevel.h b/patchlevel.h
index 9c0646b..5cede1c 100644
--- a/patchlevel.h
+++ b/patchlevel.h
@@ -137,6 +137,7 @@ static const char * const local_patches[] = {
 	,"uncommitted-changes"
 #endif
 	PERL_GIT_UNPUSHED_COMMITS    	/* do not remove this line */
+#include "patchlevel-debian.h"
 	,NULL
 };
 

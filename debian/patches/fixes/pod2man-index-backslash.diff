From: Niko Tyni <ntyni@debian.org>
Subject: Escape backslashes in .IX entries
Closes: 521256

Applicable parts of podlators upstream git commit
release/2.2.2-6-g8de2177 


---
 lib/Pod/Man.pm  |    1 +
 lib/Pod/t/man.t |   13 ++++++++++++-
 2 files changed, 13 insertions(+), 1 deletions(-)

diff --git a/lib/Pod/Man.pm b/lib/Pod/Man.pm
index 451ecc8..3c9f6fd 100644
--- a/lib/Pod/Man.pm
+++ b/lib/Pod/Man.pm
@@ -710,6 +710,7 @@ sub outindex {
     for (@output) {
         my ($type, $entry) = @$_;
         $entry =~ s/\"/\"\"/g;
+        $entry =~ s/\\/\\\\/g;
         $self->output (".IX $type " . '"' . $entry . '"' . "\n");
     }
 }
diff --git a/lib/Pod/t/man.t b/lib/Pod/t/man.t
index 5d4d231..ac2894c 100644
--- a/lib/Pod/t/man.t
+++ b/lib/Pod/t/man.t
@@ -17,7 +17,7 @@ BEGIN {
     }
     unshift (@INC, '../blib/lib');
     $| = 1;
-    print "1..22\n";
+    print "1..23\n";
 }
 
 END {
@@ -431,3 +431,14 @@ Don't escape `this' but do escape C<`this'> (and don't surround it in quotes).
 .IX Header "Quote escaping"
 Don't escape `this' but do escape \f(CW\`this\*(Aq\fR (and don't surround it in quotes).
 ###
+
+###
+=head1 INDEX
+
+Index entry matching a whitespace escape.X<\n>
+###
+.SH "INDEX"
+.IX Header "INDEX"
+Index entry matching a whitespace escape.
+.IX Xref "\\n"
+###
-- 
tg: (71b2123..) fixes/pod2man-index-backslash (depends on: upstream)

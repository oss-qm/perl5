Subject: Skip test when /dev/log unavailable.  Avoids a problem on buildds where syslogd is not running.

Included in Sys-Syslog 0.24, integrated in bleadperl as change 32799.

---
 ext/Sys/Syslog/t/syslog.t |    3 +++
 1 files changed, 3 insertions(+), 0 deletions(-)

diff --git a/ext/Sys/Syslog/t/syslog.t b/ext/Sys/Syslog/t/syslog.t
index 19610f1..de0a008 100755
--- a/ext/Sys/Syslog/t/syslog.t
+++ b/ext/Sys/Syslog/t/syslog.t
@@ -189,6 +189,9 @@ SKIP: {
     skip "the 'unix' mechanism works, so the tests will likely fail with the 'stream' mechanism", 10 
         if grep {/unix/} @passed;
 
+    skip "can't connect to Unix socket: _PATH_LOG unavailable", 10
+      unless -e Sys::Syslog::_PATH_LOG();
+
     # setlogsock() with "stream" and an undef path
     $r = eval { setlogsock("stream", undef ) } || '';
     is( $@, '', "setlogsock() called, with 'stream' and an undef path" );
-- 
tg: (71b2123..) fixes/syslog_test (depends on: upstream)
